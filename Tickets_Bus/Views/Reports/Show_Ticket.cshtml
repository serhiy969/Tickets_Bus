@*@using Tickets_Bus.Models
@model List<RouteViewModel>*@   
@model IQueryable<IGrouping<Tickets_Bus.Models.Route_, Tickets_Bus.Models.Ticket>>

@{
    ViewBag.Title = "Index";
}

<h2>Маршрути</h2>

<table class="table">
    <tr>
        <th>
            Початок поїздки
        </th>
        <th>
            Кінець поїздки
        </th>
        <th>
            Відстань
        </th>
        <th>
            Надійність
        </th>
        <th>
            Маршрут автобуса
        </th>
        <th>
            Марка автобуса
        </th>
        <th>

        </th>
    </tr>
</table>
    @foreach (var key in Model)
    {
        @Html.DisplayFor(route => key.Key.ID_Route)
        <a>Count @key.Count() </a>
        foreach (var item in key)
        {
            @Html.DisplayFor(route => item.Station.Name_Station)
            @Html.DisplayFor(route => item.ID_Ticket)
        }
    }

    @*@foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Date_Route)
                @Html.DisplayFor(modelItem => item.Station1)
                @Html.DisplayFor(modelItem => item.Date_Departure)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Date_Arrival)
                @Html.DisplayFor(modelItem => item.Station2)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Distance_)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Reliability_)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Route.ID_Route)
                @Html.DisplayFor(modelItem => item.StationD)
                @Html.DisplayFor(modelItem => item.StationA)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Name_buses)
            </td>

            @*<td>
                @Html.ActionLink("Get Ticket", "Create", "Tickets", new { routeId = item.ID_Route, departure = item.Route.Departure, arrival=item.RouteStation.ID_Station },null)
            </td>
        </tr>
    }*@


